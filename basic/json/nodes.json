{"meta": {"hasAcl": false, "provisioned": false, "canSave": true, "canAdmin": false, "folderUrl": "/dashboards/f/dGmcRPNiz/openstack", "created": "2018-02-07T17:38:38+08:00", "url": "/d/000000033/openstack-nodes", "canStar": true, "expires": "0001-01-01T00:00:00Z", "isFolder": false, "updated": "2018-06-22T16:00:14+08:00", "slug": "openstack-nodes", "folderTitle": "Openstack", "version": 46, "createdBy": "admin", "updatedBy": "admin", "folderId": 137, "type": "db", "canEdit": true}, "dashboard": {"style": "dark", "templating": {"list": [{"regex": "/sz.cloud.genomics.cn/", "sort": 1, "multi": false, "hide": 0, "name": "host", "tags": [], "allValue": null, "tagValuesQuery": "", "refresh": 1, "label": "host", "current": {"text": "cloud-sz-compute-b11-03.sz.cloud.genomics.cn", "value": "cloud-sz-compute-b11-03.sz.cloud.genomics.cn", "tags": []}, "datasource": "influxdb", "type": "query", "query": "show tag values from system  with key=\"host\"", "useTags": false, "tagsQuery": "", "options": [], "includeAll": false}]}, "links": [], "tags": [], "graphTooltip": 0, "title": "Openstack-Nodes", "editable": true, "refresh": false, "annotations": {"list": [{"enable": true, "hide": true, "name": "Annotations & Alerts", "builtIn": 1, "datasource": "-- Grafana --", "type": "dashboard", "iconColor": "rgba(0, 211, 255, 1)"}]}, "gnetId": null, "timepicker": {"time_options": ["5m", "15m", "1h", "6h", "12h", "24h", "2d", "7d", "30d"], "refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"]}, "version": 46, "time": {"to": "now", "from": "now/d"}, "timezone": "browser", "schemaVersion": 16, "panels": [{"mappingTypes": [{"name": "value to text", "value": 1}, {"name": "range to text", "value": 2}], "colorBackground": true, "valueMaps": [{"text": "N/A", "value": "null", "op": "="}], "thresholds": "2592000,1036800", "rangeMaps": [{"text": "N/A", "from": "null", "to": "null"}], "nullPointMode": "connected", "prefix": "", "gauge": {"thresholdLabels": false, "show": false, "thresholdMarkers": true, "maxValue": 100, "minValue": 0}, "gridPos": {"y": 0, "h": 3, "w": 12, "x": 0}, "id": 6, "maxDataPoints": 100, "mappingType": 1, "links": [], "title": "Uptime", "sparkline": {"full": false, "fillColor": "rgba(31, 118, 189, 0.18)", "lineColor": "rgb(31, 120, 193)", "show": false}, "targets": [{"dsType": "influxdb", "tags": [{"operator": "=~", "value": "/^$host$/", "key": "host"}], "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["uptime_format"]}, {"type": "last", "params": []}]], "measurement": "system", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "prefixFontSize": "50%", "valueName": "current", "type": "singlestat", "valueFontSize": "100%", "description": "system uptime", "format": "none", "cacheTimeout": null, "postfix": "", "interval": null, "colors": ["rgba(149, 45, 172, 0.97)", "rgba(127, 127, 22, 0.89)", "rgba(187, 66, 21, 0.9)"], "datasource": "influxdb", "nullText": null, "postfixFontSize": "50%", "colorValue": false}, {"mappingTypes": [{"name": "value to text", "value": 1}, {"name": "range to text", "value": 2}], "colorBackground": true, "valueMaps": [{"text": "N/A", "value": "null", "op": "="}], "thresholds": "34, 65", "rangeMaps": [{"text": "N/A", "from": "null", "to": "null"}], "nullPointMode": "connected", "prefix": "Load", "gauge": {"thresholdLabels": false, "show": false, "thresholdMarkers": true, "maxValue": 100, "minValue": 0}, "gridPos": {"y": 0, "h": 3, "w": 12, "x": 12}, "id": 5, "maxDataPoints": 100, "mappingType": 1, "links": [], "title": "System", "sparkline": {"full": false, "fillColor": "rgba(189, 69, 31, 0.18)", "lineColor": "rgb(31, 120, 193)", "show": false}, "targets": [{"dsType": "influxdb", "tags": [], "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["load1"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["load1"]}]], "measurement": "system", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "prefixFontSize": "100%", "valueName": "current", "type": "singlestat", "valueFontSize": "120%", "description": "System load", "format": "none", "cacheTimeout": null, "transparent": false, "postfix": "", "interval": null, "colors": ["rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)"], "datasource": "influxdb", "nullText": null, "postfixFontSize": "50%", "colorValue": false}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [{"colorMode": "critical", "line": true, "op": "lt", "value": 60, "fill": true}], "nullPointMode": "null", "renderer": "flot", "id": 1, "gridPos": {"y": 3, "h": 6, "w": 12, "x": 0}, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "rawQuery": false, "tags": [{"operator": "=~", "value": "/^$host$/", "key": "host"}], "refId": "A", "select": [[{"type": "field", "params": ["usage_idle"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["idle"]}], [{"type": "field", "params": ["usage_system"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["system"]}], [{"type": "field", "params": ["usage_user"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["user"]}], [{"type": "field", "params": ["usage_iowait"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["iowait"]}], [{"type": "field", "params": ["usage_softirq"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["softirq"]}], [{"type": "field", "params": ["usage_guest"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["guest"]}], [{"type": "field", "params": ["usage_steal"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["steal"]}]], "measurement": "cpu", "policy": "default", "query": "SELECT mean(\"usage_idle\") FROM \"cpu\" WHERE \"host\" =~ /^$host$/ AND $timeFilter GROUP BY time(5m) fill(null)", "groupBy": [{"type": "time", "params": ["5m"]}, {"type": "fill", "params": ["none"]}], "resultFormat": "time_series"}, {"dsType": "influxdb", "hide": true, "rawQuery": false, "tags": [{"operator": "=", "value": "cloud-sz-control-b12-01.sz.cloud.genomics.cn", "key": "host"}], "refId": "B", "select": [[{"type": "field", "params": ["usage_idle"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["idle"]}]], "measurement": "cpu", "policy": "default", "query": "SELECT mean(\"usage_idle\") FROM \"cpu\" WHERE \"host\" =~ /^$host$/ AND $timeFilter GROUP BY time(5m) fill(null)", "groupBy": [{"type": "time", "params": ["5m"]}, {"type": "fill", "params": ["none"]}], "resultFormat": "time_series"}], "fill": 1, "title": "CPU", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"rightSide": true, "total": false, "min": false, "max": false, "show": true, "current": false, "values": true, "alignAsTable": true, "avg": true, "hideZero": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": false, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [{"alias": "cpu.user", "yaxis": 1}], "percentage": false, "type": "graph", "description": "Show cpu utilization", "alert": {"noDataState": "no_data", "name": "CPU alert", "frequency": "60s", "notifications": [], "handler": 1, "executionErrorState": "alerting", "conditions": [{"operator": {"type": "and"}, "query": {"params": ["B", "5m", "now"]}, "evaluator": {"type": "lt", "params": [60]}, "reducer": {"type": "median", "params": []}, "type": "query"}]}, "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "influxdb", "pointradius": 5, "decimals": 1}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "nullPointMode": "null", "renderer": "flot", "id": 4, "gridPos": {"y": 3, "h": 6, "w": 12, "x": 12}, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "tags": [{"operator": "=~", "value": "/^$host$/", "key": "host"}], "groupBy": [{"type": "time", "params": ["5m"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["total"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["total"]}], [{"type": "field", "params": ["used"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["used"]}], [{"type": "field", "params": ["available"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["available"]}], [{"type": "field", "params": ["free"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["free"]}], [{"type": "field", "params": ["cached"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["cached"]}]], "measurement": "mem", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "title": "Memory", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"rightSide": true, "total": false, "min": false, "max": false, "show": true, "current": false, "values": true, "alignAsTable": true, "avg": true}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "decbytes", "min": null, "label": null}, {"logBase": 1, "show": false, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "influxdb", "pointradius": 5, "decimals": 1}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "nullPointMode": "null", "renderer": "flot", "id": 3, "gridPos": {"y": 9, "h": 9, "w": 12, "x": 0}, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "tags": [{"operator": "=~", "value": "/^$host$/", "key": "host"}], "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["bytes_recv"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["bytes_recv"]}], [{"type": "field", "params": ["bytes_sent"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["bytes_sent"]}], [{"type": "field", "params": ["drop_in"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["drop_in"]}], [{"type": "field", "params": ["drop_out"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["drop_out"]}], [{"type": "field", "params": ["err_in"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["err_in"]}], [{"type": "field", "params": ["err_out"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["err_out"]}], [{"type": "field", "params": ["tcp_inerrs"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["tcp_inerrs"]}], [{"type": "field", "params": ["ip_outdiscards"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["ip_outdiscards"]}], [{"type": "field", "params": ["icmp_inerrors"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["icmp_inerrors"]}], [{"type": "field", "params": ["icmp_outerrors"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["icmp_outerrors"]}], [{"type": "field", "params": ["udp_inerrors"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["udp_inerrs"]}], [{"type": "field", "params": ["tcp_incsumerrors"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["tcp_incsumerros"]}]], "measurement": "net", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "title": "Network", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"rightSide": true, "total": false, "min": false, "max": false, "show": true, "current": false, "values": true, "alignAsTable": true, "avg": true}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "decbytes", "min": null, "label": null}, {"logBase": 1, "show": false, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "influxdb", "pointradius": 5, "decimals": 1}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "nullPointMode": "null", "renderer": "flot", "id": 11, "gridPos": {"y": 9, "h": 9, "w": 12, "x": 12}, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "target": "", "tags": [{"operator": "=~", "value": "/^$host$/", "key": "host"}], "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["average_response_ms"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["avg_response"]}], [{"type": "field", "params": ["maximum_response_ms"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["max_response"]}], [{"type": "field", "params": ["minimum_response_ms"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["min_response"]}], [{"type": "field", "params": ["percent_packet_loss"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["packet_loss"]}]], "measurement": "ping", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "title": "Ping", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"sort": "current", "rightSide": true, "total": false, "min": false, "max": false, "show": true, "current": true, "values": true, "alignAsTable": true, "avg": false, "sortDesc": true}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": false, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "influxdb", "pointradius": 5}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "nullPointMode": "null", "renderer": "flot", "id": 10, "gridPos": {"y": 18, "h": 5, "w": 12, "x": 0}, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "target": "", "tags": [{"operator": "=", "value": "sda3", "key": "device"}], "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["total"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["total"]}], [{"type": "field", "params": ["free"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["free"]}], [{"type": "field", "params": ["inodes_total"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["inodes_total"]}], [{"type": "field", "params": ["inodes_free"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["inodes_free"]}]], "measurement": "disk", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "title": "Disk Usage", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"rightSide": true, "total": false, "min": false, "max": false, "show": true, "current": true, "values": true, "alignAsTable": true, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "decbytes", "min": null, "label": null}, {"logBase": 1, "show": false, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "influxdb", "pointradius": 5}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "nullPointMode": "null", "renderer": "flot", "id": 2, "gridPos": {"y": 18, "h": 5, "w": 12, "x": 12}, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "tags": [{"operator": "=~", "value": "/^$host$/", "key": "host"}], "groupBy": [{"type": "time", "params": ["5m"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["read_bytes"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["read_bytes"]}], [{"type": "field", "params": ["write_bytes"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["write_bytes"]}], [{"type": "field", "params": ["iops_in_progress"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["iops_in_progress"]}], [{"type": "field", "params": ["reads"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["reads"]}], [{"type": "field", "params": ["writes"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["write"]}]], "measurement": "diskio", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "title": "Disk IO", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"rightSide": true, "total": false, "min": false, "max": false, "show": true, "current": false, "values": true, "alignAsTable": true, "avg": true}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "decbytes", "min": null, "label": null}, {"logBase": 1, "show": false, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "influxdb", "pointradius": 5, "decimals": 1}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "nullPointMode": "null", "renderer": "flot", "id": 8, "gridPos": {"y": 23, "h": 6, "w": 12, "x": 0}, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "tags": [{"operator": "=~", "value": "/^$host$/", "key": "host"}], "groupBy": [{"type": "time", "params": ["5m"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["zombies"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["zombies"]}], [{"type": "field", "params": ["blocked"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["blocked"]}], [{"type": "field", "params": ["stopped"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["stopped"]}], [{"type": "field", "params": ["running"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["running"]}], [{"type": "field", "params": ["sleeping"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["sleeping"]}], [{"type": "field", "params": ["total"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["total"]}]], "measurement": "processes", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "title": "Process", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"rightSide": true, "total": false, "sideWidth": null, "min": false, "max": false, "show": true, "current": true, "values": true, "alignAsTable": true, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "short", "min": null, "label": null}, {"logBase": 1, "show": false, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "influxdb", "pointradius": 5, "decimals": null}, {"bars": false, "timeFrom": null, "links": [], "thresholds": [], "nullPointMode": "null", "renderer": "flot", "id": 12, "gridPos": {"y": 23, "h": 6, "w": 12, "x": 12}, "linewidth": 1, "steppedLine": false, "targets": [{"dsType": "influxdb", "target": "", "tags": [{"operator": "=~", "value": "/^$host$/", "key": "host"}], "groupBy": [{"type": "time", "params": ["$__interval"]}, {"type": "fill", "params": ["null"]}], "select": [[{"type": "field", "params": ["total"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["total"]}], [{"type": "field", "params": ["used"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["used"]}], [{"type": "field", "params": ["free"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["free"]}], [{"type": "field", "params": ["in"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["in"]}], [{"type": "field", "params": ["out"]}, {"type": "mean", "params": []}, {"type": "alias", "params": ["out"]}]], "measurement": "swap", "policy": "default", "refId": "A", "resultFormat": "time_series"}], "fill": 1, "title": "Swap", "tooltip": {"sort": 0, "shared": true, "value_type": "individual"}, "legend": {"rightSide": true, "total": false, "min": false, "max": false, "show": true, "current": true, "values": true, "alignAsTable": true, "avg": false}, "yaxes": [{"logBase": 1, "show": true, "max": null, "format": "decbytes", "min": null, "label": null}, {"logBase": 1, "show": false, "max": null, "format": "short", "min": null, "label": null}], "xaxis": {"show": true, "values": [], "mode": "time", "name": null}, "seriesOverrides": [], "percentage": false, "type": "graph", "stack": false, "timeShift": null, "aliasColors": {}, "lines": true, "points": false, "datasource": "influxdb", "pointradius": 5, "decimals": 1}], "id": 33, "uid": "000000033"}}